2022-06-13 00:18:12,850 INFO             [main] org.springframework.boot.StartupInfoLogger                                                   : Starting CuteCutAppApplication using Java 17.0.3 on shoxruh-acer with PID 7204 (/home/shoxruh/Disk D/Programming/PDP Backend/Projects/cute-cut-app/target/classes started by shoxruh in /home/shoxruh/Disk D/Programming/PDP Backend/Projects/cute-cut-app)
2022-06-13 00:18:12,868 INFO             [main] org.springframework.boot.SpringApplication                                                   : The following 1 profile is active: "prod"
2022-06-13 00:18:14,128 INFO             [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate                   : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-06-13 00:18:14,202 INFO             [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate                   : Finished Spring Data repository scanning in 64 ms. Found 12 JPA repository interfaces.
2022-06-13 00:18:14,581 INFO             [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer                                 : Tomcat initialized with port(s): 8080 (http)
2022-06-13 00:18:14,586 INFO             [main] org.apache.juli.logging.DirectJDKLog                                                         : Initializing ProtocolHandler ["http-nio-8080"]
2022-06-13 00:18:14,586 INFO             [main] org.apache.juli.logging.DirectJDKLog                                                         : Starting service [Tomcat]
2022-06-13 00:18:14,586 INFO             [main] org.apache.juli.logging.DirectJDKLog                                                         : Starting Servlet engine: [Apache Tomcat/9.0.62]
2022-06-13 00:18:14,657 INFO             [main] org.apache.juli.logging.DirectJDKLog                                                         : Initializing Spring embedded WebApplicationContext
2022-06-13 00:18:14,657 INFO             [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext              : Root WebApplicationContext: initialization completed in 1615 ms
2022-06-13 00:18:14,777 INFO             [main] org.hibernate.jpa.internal.util.LogHelper                                                    : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-06-13 00:18:14,824 INFO             [main] org.hibernate.Version                                                                        : HHH000412: Hibernate ORM core version 5.6.8.Final
2022-06-13 00:18:14,925 INFO             [main] org.hibernate.annotations.common.reflection.java.JavaReflectionManager                       : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-06-13 00:18:14,975 INFO             [main] com.zaxxer.hikari.HikariDataSource                                                           : HikariPool-1 - Starting...
2022-06-13 00:18:17,422 INFO             [main] com.zaxxer.hikari.HikariDataSource                                                           : HikariPool-1 - Start completed.
2022-06-13 00:18:17,438 INFO             [main] org.hibernate.dialect.Dialect                                                                : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-06-13 00:18:18,362 WARN             [main] org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler                      : SQL Warning Code: 0, SQLState: 00000
2022-06-13 00:18:18,363 WARN             [main] org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler                      : table "auth_user" does not exist, skipping
2022-06-13 00:18:18,535 WARN             [main] org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler                      : SQL Warning Code: 0, SQLState: 00000
2022-06-13 00:18:18,535 WARN             [main] org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler                      : table "barber_shop" does not exist, skipping
2022-06-13 00:18:18,740 WARN             [main] org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler                      : SQL Warning Code: 0, SQLState: 00000
2022-06-13 00:18:18,740 WARN             [main] org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler                      : table "device" does not exist, skipping
2022-06-13 00:18:18,945 WARN             [main] org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler                      : SQL Warning Code: 0, SQLState: 00000
2022-06-13 00:18:18,945 WARN             [main] org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler                      : table "faq" does not exist, skipping
2022-06-13 00:18:19,148 WARN             [main] org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler                      : SQL Warning Code: 0, SQLState: 00000
2022-06-13 00:18:19,149 WARN             [main] org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler                      : table "favorites" does not exist, skipping
2022-06-13 00:18:19,353 WARN             [main] org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler                      : SQL Warning Code: 0, SQLState: 00000
2022-06-13 00:18:19,355 WARN             [main] org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler                      : table "notification" does not exist, skipping
2022-06-13 00:18:19,559 WARN             [main] org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler                      : SQL Warning Code: 0, SQLState: 00000
2022-06-13 00:18:19,560 WARN             [main] org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler                      : table "orders" does not exist, skipping
2022-06-13 00:18:19,763 WARN             [main] org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler                      : SQL Warning Code: 0, SQLState: 00000
2022-06-13 00:18:19,764 WARN             [main] org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler                      : table "organization" does not exist, skipping
2022-06-13 00:18:20,786 WARN             [main] org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler                      : SQL Warning Code: 0, SQLState: 00000
2022-06-13 00:18:20,787 WARN             [main] org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler                      : table "phone_code" does not exist, skipping
2022-06-13 00:18:20,957 WARN             [main] org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler                      : SQL Warning Code: 0, SQLState: 00000
2022-06-13 00:18:20,958 WARN             [main] org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler                      : table "rating" does not exist, skipping
2022-06-13 00:18:21,126 WARN             [main] org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler                      : SQL Warning Code: 0, SQLState: 00000
2022-06-13 00:18:21,126 WARN             [main] org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler                      : table "service" does not exist, skipping
2022-06-13 00:18:21,299 WARN             [main] org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler                      : SQL Warning Code: 0, SQLState: 00000
2022-06-13 00:18:21,300 WARN             [main] org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler                      : table "uploads" does not exist, skipping
2022-06-13 00:18:24,036 INFO             [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator                  : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-06-13 00:18:24,048 INFO             [main] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean                                 : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-06-13 00:18:24,567 WARN             [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration      : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-06-13 00:18:24,886 INFO             [main] org.springframework.security.web.DefaultSecurityFilterChain                                  : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@446fb72e, org.springframework.security.web.context.SecurityContextPersistenceFilter@5cca5ff3, org.springframework.security.web.header.HeaderWriterFilter@6aed4a23, org.springframework.security.web.authentication.logout.LogoutFilter@5fafd099, uz.pdp.cutecutapp.config.security.filters.CustomAuthorizationFilter@26caf4b6, uz.pdp.cutecutapp.config.security.filters.CustomAuthenticationFilter@4411a0fe, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@10664c3d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@36017835, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2c750b69, org.springframework.security.web.session.SessionManagementFilter@5f7c1de0, org.springframework.security.web.access.ExceptionTranslationFilter@20fdaf3e, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@743b7025]
2022-06-13 00:18:27,764 INFO             [main] org.apache.juli.logging.DirectJDKLog                                                         : Starting ProtocolHandler ["http-nio-8080"]
2022-06-13 00:18:27,774 INFO             [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer                                 : Tomcat started on port(s): 8080 (http) with context path ''
2022-06-13 00:18:27,783 INFO             [main] org.springframework.boot.StartupInfoLogger                                                   : Started CuteCutAppApplication in 15.669 seconds (JVM running for 16.913)
2022-06-13 00:18:31,214 INFO             [SpringApplicationShutdownHook] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean        : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-06-13 00:18:31,216 INFO             [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource                                  : HikariPool-1 - Shutdown initiated...
2022-06-13 00:18:33,688 INFO             [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource                                  : HikariPool-1 - Shutdown completed.
2022-06-13 15:27:10,895 INFO             [main] org.springframework.boot.StartupInfoLogger                                                   : Starting CuteCutAppApplication using Java 17.0.3 on shoxruh-acer with PID 32021 (/home/shoxruh/Disk D/Programming/PDP Backend/Projects/cute-cut-app/target/classes started by shoxruh in /home/shoxruh/Disk D/Programming/PDP Backend/Projects/cute-cut-app)
2022-06-13 15:27:10,898 INFO             [main] org.springframework.boot.SpringApplication                                                   : The following 1 profile is active: "prod"
2022-06-13 15:27:11,675 INFO             [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate                   : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-06-13 15:27:11,763 INFO             [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate                   : Finished Spring Data repository scanning in 73 ms. Found 12 JPA repository interfaces.
2022-06-13 15:27:12,164 INFO             [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer                                 : Tomcat initialized with port(s): 8080 (http)
2022-06-13 15:27:12,171 INFO             [main] org.apache.juli.logging.DirectJDKLog                                                         : Initializing ProtocolHandler ["http-nio-8080"]
2022-06-13 15:27:12,172 INFO             [main] org.apache.juli.logging.DirectJDKLog                                                         : Starting service [Tomcat]
2022-06-13 15:27:12,172 INFO             [main] org.apache.juli.logging.DirectJDKLog                                                         : Starting Servlet engine: [Apache Tomcat/9.0.62]
2022-06-13 15:27:12,248 INFO             [main] org.apache.juli.logging.DirectJDKLog                                                         : Initializing Spring embedded WebApplicationContext
2022-06-13 15:27:12,249 INFO             [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext              : Root WebApplicationContext: initialization completed in 1262 ms
2022-06-13 15:27:12,370 INFO             [main] org.flywaydb.core.internal.logging.slf4j.Slf4jLog                                            : Flyway Community Edition 8.5.10 by Redgate
2022-06-13 15:27:12,370 INFO             [main] org.flywaydb.core.internal.logging.slf4j.Slf4jLog                                            : See what's new here: https://flywaydb.org/documentation/learnmore/releaseNotes#8.5.10
2022-06-13 15:27:12,370 INFO             [main] org.flywaydb.core.internal.logging.slf4j.Slf4jLog                                            : 
2022-06-13 15:27:12,378 INFO             [main] com.zaxxer.hikari.HikariDataSource                                                           : HikariPool-1 - Starting...
2022-06-13 15:27:15,876 INFO             [main] com.zaxxer.hikari.HikariDataSource                                                           : HikariPool-1 - Start completed.
2022-06-13 15:27:16,280 INFO             [main] org.flywaydb.core.internal.logging.slf4j.Slf4jLog                                            : Database: jdbc:postgresql://ec2-44-196-174-238.compute-1.amazonaws.com:5432/d5ra9mpj7hag8n (PostgreSQL 14.3)
2022-06-13 15:27:21,924 INFO             [main] org.flywaydb.core.internal.logging.slf4j.Slf4jLog                                            : Current version of schema "public": 14
2022-06-13 15:27:21,925 WARN             [main] org.flywaydb.core.internal.logging.slf4j.Slf4jLog                                            : outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2022-06-13 15:27:22,513 INFO             [main] org.flywaydb.core.internal.logging.slf4j.Slf4jLog                                            : Schema "public" is up to date. No migration necessary.
2022-06-13 15:27:23,867 INFO             [main] org.hibernate.jpa.internal.util.LogHelper                                                    : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-06-13 15:27:23,902 INFO             [main] org.hibernate.Version                                                                        : HHH000412: Hibernate ORM core version 5.6.8.Final
2022-06-13 15:27:23,979 INFO             [main] org.hibernate.annotations.common.reflection.java.JavaReflectionManager                       : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-06-13 15:27:24,037 INFO             [main] org.hibernate.dialect.Dialect                                                                : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-06-13 15:27:26,550 INFO             [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator                  : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-06-13 15:27:26,558 INFO             [main] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean                                 : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-06-13 15:27:27,088 WARN             [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration      : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-06-13 15:27:27,410 INFO             [main] org.springframework.security.web.DefaultSecurityFilterChain                                  : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@487ee2a, org.springframework.security.web.context.SecurityContextPersistenceFilter@419ece7a, org.springframework.security.web.header.HeaderWriterFilter@2e8eafb2, org.springframework.security.web.authentication.logout.LogoutFilter@29088d3d, uz.pdp.cutecutapp.config.security.filters.CustomAuthorizationFilter@682482ee, uz.pdp.cutecutapp.config.security.filters.CustomAuthenticationFilter@261b27db, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@238d27ef, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@41271320, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@175745fc, org.springframework.security.web.session.SessionManagementFilter@8cd2bb5, org.springframework.security.web.access.ExceptionTranslationFilter@5b5d6f9c, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6662974a]
2022-06-13 15:27:28,828 WARN             [main] org.hibernate.engine.jdbc.spi.SqlExceptionHelper                                             : SQL Error: 0, SQLState: 23505
2022-06-13 15:27:28,829 ERROR            [main] org.hibernate.engine.jdbc.spi.SqlExceptionHelper                                             : ERROR: duplicate key value violates unique constraint "phonerole"
  Detail: Key (phone_number, role)=(+998999999999, SUPER_ADMIN) already exists.
2022-06-13 15:27:29,760 WARN             [main] org.springframework.context.support.AbstractApplicationContext                               : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8080 is already in use
2022-06-13 15:27:29,766 INFO             [main] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean                                 : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-06-13 15:27:29,767 INFO             [main] com.zaxxer.hikari.HikariDataSource                                                           : HikariPool-1 - Shutdown initiated...
2022-06-13 15:27:31,628 INFO             [main] com.zaxxer.hikari.HikariDataSource                                                           : HikariPool-1 - Shutdown completed.
