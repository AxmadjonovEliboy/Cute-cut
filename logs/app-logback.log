2022-06-06 14:48:08,104 INFO             [main] org.springframework.boot.StartupInfoLogger                                                   : Starting CuteCutAppApplication using Java 17.0.2 on WIN-GHSJJIGEQ74 with PID 5800 (D:\My\IT\UNICORN\Spring\cute-cut-app\target\classes started by OneComputers in D:\My\IT\UNICORN\Spring\cute-cut-app)
2022-06-06 14:48:08,111 INFO             [main] org.springframework.boot.SpringApplication                                                   : The following 1 profile is active: "dev"
2022-06-06 14:48:10,960 INFO             [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate                   : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-06-06 14:48:11,171 INFO             [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate                   : Finished Spring Data repository scanning in 196 ms. Found 12 JPA repository interfaces.
2022-06-06 14:48:12,084 INFO             [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer                                 : Tomcat initialized with port(s): 8080 (http)
2022-06-06 14:48:12,100 INFO             [main] org.apache.juli.logging.DirectJDKLog                                                         : Initializing ProtocolHandler ["http-nio-8080"]
2022-06-06 14:48:12,101 INFO             [main] org.apache.juli.logging.DirectJDKLog                                                         : Starting service [Tomcat]
2022-06-06 14:48:12,102 INFO             [main] org.apache.juli.logging.DirectJDKLog                                                         : Starting Servlet engine: [Apache Tomcat/9.0.62]
2022-06-06 14:48:12,303 INFO             [main] org.apache.juli.logging.DirectJDKLog                                                         : Initializing Spring embedded WebApplicationContext
2022-06-06 14:48:12,304 INFO             [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext              : Root WebApplicationContext: initialization completed in 4057 ms
2022-06-06 14:48:12,631 INFO             [main] org.hibernate.jpa.internal.util.LogHelper                                                    : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-06-06 14:48:12,713 INFO             [main] org.hibernate.Version                                                                        : HHH000412: Hibernate ORM core version 5.6.8.Final
2022-06-06 14:48:12,946 INFO             [main] org.hibernate.annotations.common.reflection.java.JavaReflectionManager                       : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-06-06 14:48:13,092 INFO             [main] com.zaxxer.hikari.HikariDataSource                                                           : HikariPool-1 - Starting...
2022-06-06 14:48:13,502 INFO             [main] com.zaxxer.hikari.HikariDataSource                                                           : HikariPool-1 - Start completed.
2022-06-06 14:48:13,535 INFO             [main] org.hibernate.dialect.Dialect                                                                : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-06-06 14:48:14,125 WARN             [main] org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler                      : SQL Warning Code: 0, SQLState: 00000
2022-06-06 14:48:14,126 WARN             [main] org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler                      : таблица "auth_user" не существует, пропускается
2022-06-06 14:48:14,126 WARN             [main] org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler                      : SQL Warning Code: 0, SQLState: 00000
2022-06-06 14:48:14,126 WARN             [main] org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler                      : таблица "barber_shop" не существует, пропускается
2022-06-06 14:48:14,127 WARN             [main] org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler                      : SQL Warning Code: 0, SQLState: 00000
2022-06-06 14:48:14,127 WARN             [main] org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler                      : таблица "device" не существует, пропускается
2022-06-06 14:48:14,127 WARN             [main] org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler                      : SQL Warning Code: 0, SQLState: 00000
2022-06-06 14:48:14,127 WARN             [main] org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler                      : таблица "faq" не существует, пропускается
2022-06-06 14:48:14,128 WARN             [main] org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler                      : SQL Warning Code: 0, SQLState: 00000
2022-06-06 14:48:14,128 WARN             [main] org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler                      : таблица "favorites" не существует, пропускается
2022-06-06 14:48:14,129 WARN             [main] org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler                      : SQL Warning Code: 0, SQLState: 00000
2022-06-06 14:48:14,129 WARN             [main] org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler                      : таблица "notification" не существует, пропускается
2022-06-06 14:48:14,130 WARN             [main] org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler                      : SQL Warning Code: 0, SQLState: 00000
2022-06-06 14:48:14,130 WARN             [main] org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler                      : таблица "orders" не существует, пропускается
2022-06-06 14:48:14,130 WARN             [main] org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler                      : SQL Warning Code: 0, SQLState: 00000
2022-06-06 14:48:14,130 WARN             [main] org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler                      : таблица "organization" не существует, пропускается
2022-06-06 14:48:14,130 WARN             [main] org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler                      : SQL Warning Code: 0, SQLState: 00000
2022-06-06 14:48:14,131 WARN             [main] org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler                      : таблица "phone_code" не существует, пропускается
2022-06-06 14:48:14,131 WARN             [main] org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler                      : SQL Warning Code: 0, SQLState: 00000
2022-06-06 14:48:14,131 WARN             [main] org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler                      : таблица "rating" не существует, пропускается
2022-06-06 14:48:14,132 WARN             [main] org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler                      : SQL Warning Code: 0, SQLState: 00000
2022-06-06 14:48:14,132 WARN             [main] org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler                      : таблица "service" не существует, пропускается
2022-06-06 14:48:14,132 WARN             [main] org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler                      : SQL Warning Code: 0, SQLState: 00000
2022-06-06 14:48:14,132 WARN             [main] org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler                      : таблица "uploads" не существует, пропускается
2022-06-06 14:48:14,222 INFO             [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator                  : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-06-06 14:48:14,227 INFO             [main] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean                                 : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-06-06 14:48:14,815 WARN             [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration      : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-06-06 14:48:15,241 INFO             [main] org.springframework.security.web.DefaultSecurityFilterChain                                  : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5b4880b3, org.springframework.security.web.context.SecurityContextPersistenceFilter@5c1ea00, org.springframework.security.web.header.HeaderWriterFilter@7827cdfc, org.springframework.security.web.authentication.logout.LogoutFilter@7bdddfa4, uz.pdp.cutecutapp.config.security.filters.CustomAuthorizationFilter@5ae67f05, uz.pdp.cutecutapp.config.security.filters.CustomAuthenticationFilter@4bc39640, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3398ed12, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5cb32140, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1e37cb10, org.springframework.security.web.session.SessionManagementFilter@19d3f4fb, org.springframework.security.web.access.ExceptionTranslationFilter@5aefdb9e, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3a6409ec]
2022-06-06 14:48:16,373 INFO             [main] org.apache.juli.logging.DirectJDKLog                                                         : Starting ProtocolHandler ["http-nio-8080"]
2022-06-06 14:48:16,390 INFO             [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer                                 : Tomcat started on port(s): 8080 (http) with context path ''
2022-06-06 14:48:16,399 INFO             [main] org.springframework.boot.StartupInfoLogger                                                   : Started CuteCutAppApplication in 8.71 seconds (JVM running for 9.883)
2022-06-06 14:48:51,202 INFO             [SpringApplicationShutdownHook] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean        : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-06-06 14:48:51,203 INFO             [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource                                  : HikariPool-1 - Shutdown initiated...
2022-06-06 14:48:51,206 INFO             [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource                                  : HikariPool-1 - Shutdown completed.
2022-06-06 14:48:55,189 INFO             [main] org.springframework.boot.StartupInfoLogger                                                   : Starting CuteCutAppApplication using Java 17.0.2 on WIN-GHSJJIGEQ74 with PID 584 (D:\My\IT\UNICORN\Spring\cute-cut-app\target\classes started by OneComputers in D:\My\IT\UNICORN\Spring\cute-cut-app)
2022-06-06 14:48:55,192 INFO             [main] org.springframework.boot.SpringApplication                                                   : The following 1 profile is active: "dev"
2022-06-06 14:48:56,090 INFO             [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate                   : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-06-06 14:48:56,282 INFO             [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate                   : Finished Spring Data repository scanning in 181 ms. Found 12 JPA repository interfaces.
2022-06-06 14:48:57,180 INFO             [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer                                 : Tomcat initialized with port(s): 8080 (http)
2022-06-06 14:48:57,222 INFO             [main] org.apache.juli.logging.DirectJDKLog                                                         : Initializing ProtocolHandler ["http-nio-8080"]
2022-06-06 14:48:57,224 INFO             [main] org.apache.juli.logging.DirectJDKLog                                                         : Starting service [Tomcat]
2022-06-06 14:48:57,224 INFO             [main] org.apache.juli.logging.DirectJDKLog                                                         : Starting Servlet engine: [Apache Tomcat/9.0.62]
2022-06-06 14:48:57,412 INFO             [main] org.apache.juli.logging.DirectJDKLog                                                         : Initializing Spring embedded WebApplicationContext
2022-06-06 14:48:57,412 INFO             [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext              : Root WebApplicationContext: initialization completed in 2146 ms
2022-06-06 14:48:57,653 INFO             [main] org.flywaydb.core.internal.logging.slf4j.Slf4jLog                                            : Flyway Community Edition 8.5.10 by Redgate
2022-06-06 14:48:57,654 INFO             [main] org.flywaydb.core.internal.logging.slf4j.Slf4jLog                                            : See what's new here: https://flywaydb.org/documentation/learnmore/releaseNotes#8.5.10
2022-06-06 14:48:57,654 INFO             [main] org.flywaydb.core.internal.logging.slf4j.Slf4jLog                                            : 
2022-06-06 14:48:57,714 INFO             [main] com.zaxxer.hikari.HikariDataSource                                                           : HikariPool-1 - Starting...
2022-06-06 14:48:57,955 INFO             [main] com.zaxxer.hikari.HikariDataSource                                                           : HikariPool-1 - Start completed.
2022-06-06 14:48:57,980 INFO             [main] org.flywaydb.core.internal.logging.slf4j.Slf4jLog                                            : Database: jdbc:postgresql://localhost:5432/cute_cut_app (PostgreSQL 14.2)
2022-06-06 14:48:58,105 INFO             [main] org.flywaydb.core.internal.logging.slf4j.Slf4jLog                                            : Successfully validated 8 migrations (execution time 00:00.098s)
2022-06-06 14:48:58,133 INFO             [main] org.flywaydb.core.internal.logging.slf4j.Slf4jLog                                            : Creating Schema History table "public"."flyway_schema_history" with baseline ...
2022-06-06 14:48:58,188 INFO             [main] org.flywaydb.core.internal.logging.slf4j.Slf4jLog                                            : Successfully baselined schema with version: 1
2022-06-06 14:48:58,206 INFO             [main] org.flywaydb.core.internal.logging.slf4j.Slf4jLog                                            : Current version of schema "public": 1
2022-06-06 14:48:58,219 INFO             [main] org.flywaydb.core.internal.logging.slf4j.Slf4jLog                                            : Migrating schema "public" to version "2 - alter table service barber shop id"
2022-06-06 14:48:58,250 INFO             [main] org.flywaydb.core.internal.logging.slf4j.Slf4jLog                                            : Migrating schema "public" to version "3 - alter table favourites barber shop id"
2022-06-06 14:48:58,267 INFO             [main] org.flywaydb.core.internal.logging.slf4j.Slf4jLog                                            : Migrating schema "public" to version "4 - alter table favourites client id"
2022-06-06 14:48:58,283 INFO             [main] org.flywaydb.core.internal.logging.slf4j.Slf4jLog                                            : Migrating schema "public" to version "5 - alter table auth user organization id"
2022-06-06 14:48:58,301 INFO             [main] org.flywaydb.core.internal.logging.slf4j.Slf4jLog                                            : Migrating schema "public" to version "6 - alter table barber shop organization id"
2022-06-06 14:48:58,316 INFO             [main] org.flywaydb.core.internal.logging.slf4j.Slf4jLog                                            : Migrating schema "public" to version "7 - alter table organization logo id"
2022-06-06 14:48:58,329 INFO             [main] org.flywaydb.core.internal.logging.slf4j.Slf4jLog                                            : Migrating schema "public" to version "10 - alter table rating add key"
2022-06-06 14:48:58,340 INFO             [main] org.flywaydb.core.internal.logging.slf4j.Slf4jLog                                            : Successfully applied 7 migrations to schema "public", now at version v10 (execution time 00:00.148s)
2022-06-06 14:48:58,531 INFO             [main] org.hibernate.jpa.internal.util.LogHelper                                                    : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-06-06 14:48:58,591 INFO             [main] org.hibernate.Version                                                                        : HHH000412: Hibernate ORM core version 5.6.8.Final
2022-06-06 14:48:58,772 INFO             [main] org.hibernate.annotations.common.reflection.java.JavaReflectionManager                       : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-06-06 14:48:58,933 INFO             [main] org.hibernate.dialect.Dialect                                                                : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-06-06 14:48:59,900 INFO             [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator                  : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-06-06 14:48:59,907 INFO             [main] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean                                 : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-06-06 14:49:00,400 WARN             [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration      : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-06-06 14:49:00,752 INFO             [main] org.springframework.security.web.DefaultSecurityFilterChain                                  : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4abb4041, org.springframework.security.web.context.SecurityContextPersistenceFilter@5ff8d76f, org.springframework.security.web.header.HeaderWriterFilter@2468c0e4, org.springframework.security.web.authentication.logout.LogoutFilter@3615f8d9, uz.pdp.cutecutapp.config.security.filters.CustomAuthorizationFilter@247415be, uz.pdp.cutecutapp.config.security.filters.CustomAuthenticationFilter@48dc9950, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5746609e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@42fb2be9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@43735ea0, org.springframework.security.web.session.SessionManagementFilter@1a82453, org.springframework.security.web.access.ExceptionTranslationFilter@4bba2704, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@377cc0f8]
2022-06-06 14:49:00,831 WARN             [main] org.hibernate.engine.jdbc.spi.SqlExceptionHelper                                             : SQL Error: 0, SQLState: 23505
2022-06-06 14:49:00,832 ERROR            [main] org.hibernate.engine.jdbc.spi.SqlExceptionHelper                                             : ОШИБКА: повторяющееся значение ключа нарушает ограничение уникальности "uk_p78qmr31f74n0y4dfo8t7qm0g"
  Detail: Ключ "(phone_number)=(+998999999999)" уже существует.
2022-06-06 14:49:00,862 WARN             [main] org.hibernate.engine.jdbc.spi.SqlExceptionHelper                                             : SQL Error: 0, SQLState: 23505
2022-06-06 14:49:00,863 ERROR            [main] org.hibernate.engine.jdbc.spi.SqlExceptionHelper                                             : ОШИБКА: повторяющееся значение ключа нарушает ограничение уникальности "uk_p78qmr31f74n0y4dfo8t7qm0g"
  Detail: Ключ "(phone_number)=(+998888888888)" уже существует.
2022-06-06 14:49:00,885 WARN             [main] org.hibernate.engine.jdbc.spi.SqlExceptionHelper                                             : SQL Error: 0, SQLState: 23505
2022-06-06 14:49:00,886 ERROR            [main] org.hibernate.engine.jdbc.spi.SqlExceptionHelper                                             : ОШИБКА: повторяющееся значение ключа нарушает ограничение уникальности "uk_p78qmr31f74n0y4dfo8t7qm0g"
  Detail: Ключ "(phone_number)=(+998777777777)" уже существует.
2022-06-06 14:49:01,789 INFO             [main] org.apache.juli.logging.DirectJDKLog                                                         : Starting ProtocolHandler ["http-nio-8080"]
2022-06-06 14:49:01,805 INFO             [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer                                 : Tomcat started on port(s): 8080 (http) with context path ''
2022-06-06 14:49:01,815 INFO             [main] org.springframework.boot.StartupInfoLogger                                                   : Started CuteCutAppApplication in 7.086 seconds (JVM running for 7.856)
2022-06-06 14:52:06,200 INFO             [SpringApplicationShutdownHook] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean        : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-06-06 14:52:06,201 INFO             [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource                                  : HikariPool-1 - Shutdown initiated...
2022-06-06 14:52:06,204 INFO             [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource                                  : HikariPool-1 - Shutdown completed.
