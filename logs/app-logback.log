2022-06-27 09:44:47,497 INFO             [main] org.springframework.boot.StartupInfoLogger                                                   : Starting CuteCutAppApplication using Java 17.0.3 on shoxruh-acer with PID 8507 (/home/shoxruh/Disk D/Programming/PDP Backend/Projects/cute-cut-app/target/classes started by shoxruh in /home/shoxruh/Disk D/Programming/PDP Backend/Projects/cute-cut-app)
2022-06-27 09:44:47,501 INFO             [main] org.springframework.boot.SpringApplication                                                   : The following 1 profile is active: "dev"
2022-06-27 09:44:48,368 INFO             [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate                   : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-06-27 09:44:48,444 INFO             [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate                   : Finished Spring Data repository scanning in 69 ms. Found 14 JPA repository interfaces.
2022-06-27 09:44:48,817 INFO             [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer                                 : Tomcat initialized with port(s): 8080 (http)
2022-06-27 09:44:48,822 INFO             [main] org.apache.juli.logging.DirectJDKLog                                                         : Initializing ProtocolHandler ["http-nio-8080"]
2022-06-27 09:44:48,822 INFO             [main] org.apache.juli.logging.DirectJDKLog                                                         : Starting service [Tomcat]
2022-06-27 09:44:48,822 INFO             [main] org.apache.juli.logging.DirectJDKLog                                                         : Starting Servlet engine: [Apache Tomcat/9.0.62]
2022-06-27 09:44:48,889 INFO             [main] org.apache.juli.logging.DirectJDKLog                                                         : Initializing Spring embedded WebApplicationContext
2022-06-27 09:44:48,890 INFO             [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext              : Root WebApplicationContext: initialization completed in 1329 ms
2022-06-27 09:44:49,116 INFO             [main] org.hibernate.jpa.internal.util.LogHelper                                                    : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-06-27 09:44:49,152 INFO             [main] org.hibernate.Version                                                                        : HHH000412: Hibernate ORM core version 5.6.8.Final
2022-06-27 09:44:49,242 INFO             [main] org.hibernate.annotations.common.reflection.java.JavaReflectionManager                       : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-06-27 09:44:49,291 INFO             [main] com.zaxxer.hikari.HikariDataSource                                                           : HikariPool-1 - Starting...
2022-06-27 09:44:49,482 INFO             [main] com.zaxxer.hikari.HikariDataSource                                                           : HikariPool-1 - Start completed.
2022-06-27 09:44:49,493 INFO             [main] org.hibernate.dialect.Dialect                                                                : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-06-27 09:44:50,046 WARN             [main] org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler                      : SQL Warning Code: 0, SQLState: 00000
2022-06-27 09:44:50,047 WARN             [main] org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler                      : constraint "phonerole" of relation "auth_user" does not exist, skipping
2022-06-27 09:44:50,051 WARN             [main] org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler                      : SQL Warning Code: 0, SQLState: 00000
2022-06-27 09:44:50,051 WARN             [main] org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler                      : constraint "uk_p78qmr31f74n0y4dfo8t7qm0g" of relation "auth_user" does not exist, skipping
2022-06-27 09:44:50,054 INFO             [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator                  : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-06-27 09:44:50,058 INFO             [main] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean                                 : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-06-27 09:44:50,792 WARN             [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration      : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-06-27 09:44:51,144 INFO             [main] org.springframework.security.web.DefaultSecurityFilterChain                                  : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@8929865, org.springframework.security.web.context.SecurityContextPersistenceFilter@6bab8290, org.springframework.security.web.header.HeaderWriterFilter@7ec5d3e1, org.springframework.security.web.authentication.logout.LogoutFilter@4fcb796f, uz.pdp.cutecutapp.config.security.filters.CustomAuthorizationFilter@489989eb, uz.pdp.cutecutapp.config.security.filters.CustomAuthenticationFilter@6d97a357, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@15c8b75c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@65192f16, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1e6cd1c, org.springframework.security.web.session.SessionManagementFilter@3ddc5a75, org.springframework.security.web.access.ExceptionTranslationFilter@66ad7167, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3f908a10]
2022-06-27 09:44:51,996 INFO             [main] org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver                          : Exposing 13 endpoint(s) beneath base path '/actuator'
2022-06-27 09:44:52,036 INFO             [main] org.apache.juli.logging.DirectJDKLog                                                         : Starting ProtocolHandler ["http-nio-8080"]
2022-06-27 09:44:52,048 INFO             [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer                                 : Tomcat started on port(s): 8080 (http) with context path ''
2022-06-27 09:44:52,062 INFO             [main] org.springframework.boot.StartupInfoLogger                                                   : Started CuteCutAppApplication in 5.032 seconds (JVM running for 5.929)
2022-06-27 09:44:52,557 INFO             [RMI TCP Connection(2)-127.0.0.1] org.apache.juli.logging.DirectJDKLog                              : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-06-27 09:44:52,557 INFO             [RMI TCP Connection(2)-127.0.0.1] org.springframework.web.servlet.FrameworkServlet                  : Initializing Servlet 'dispatcherServlet'
2022-06-27 09:44:52,559 INFO             [RMI TCP Connection(2)-127.0.0.1] org.springframework.web.servlet.FrameworkServlet                  : Completed initialization in 2 ms
2022-06-27 09:45:02,143 INFO             [SpringApplicationShutdownHook] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean        : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-06-27 09:45:02,144 INFO             [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource                                  : HikariPool-1 - Shutdown initiated...
2022-06-27 09:45:02,155 INFO             [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource                                  : HikariPool-1 - Shutdown completed.
2022-06-27 09:45:08,151 INFO             [main] org.springframework.boot.StartupInfoLogger                                                   : Starting CuteCutAppApplication using Java 17.0.3 on shoxruh-acer with PID 8711 (/home/shoxruh/Disk D/Programming/PDP Backend/Projects/cute-cut-app/target/classes started by shoxruh in /home/shoxruh/Disk D/Programming/PDP Backend/Projects/cute-cut-app)
2022-06-27 09:45:08,158 INFO             [main] org.springframework.boot.SpringApplication                                                   : The following 1 profile is active: "dev"
2022-06-27 09:45:09,893 INFO             [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate                   : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-06-27 09:45:10,095 INFO             [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate                   : Finished Spring Data repository scanning in 189 ms. Found 14 JPA repository interfaces.
2022-06-27 09:45:11,126 INFO             [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer                                 : Tomcat initialized with port(s): 8080 (http)
2022-06-27 09:45:11,135 INFO             [main] org.apache.juli.logging.DirectJDKLog                                                         : Initializing ProtocolHandler ["http-nio-8080"]
2022-06-27 09:45:11,144 INFO             [main] org.apache.juli.logging.DirectJDKLog                                                         : Starting service [Tomcat]
2022-06-27 09:45:11,145 INFO             [main] org.apache.juli.logging.DirectJDKLog                                                         : Starting Servlet engine: [Apache Tomcat/9.0.62]
2022-06-27 09:45:11,323 INFO             [main] org.apache.juli.logging.DirectJDKLog                                                         : Initializing Spring embedded WebApplicationContext
2022-06-27 09:45:11,324 INFO             [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext              : Root WebApplicationContext: initialization completed in 3061 ms
2022-06-27 09:45:11,548 INFO             [main] org.flywaydb.core.internal.logging.slf4j.Slf4jLog                                            : Flyway Community Edition 8.5.10 by Redgate
2022-06-27 09:45:11,548 INFO             [main] org.flywaydb.core.internal.logging.slf4j.Slf4jLog                                            : See what's new here: https://flywaydb.org/documentation/learnmore/releaseNotes#8.5.10
2022-06-27 09:45:11,549 INFO             [main] org.flywaydb.core.internal.logging.slf4j.Slf4jLog                                            : 
2022-06-27 09:45:11,556 INFO             [main] com.zaxxer.hikari.HikariDataSource                                                           : HikariPool-1 - Starting...
2022-06-27 09:45:11,826 INFO             [main] com.zaxxer.hikari.HikariDataSource                                                           : HikariPool-1 - Start completed.
2022-06-27 09:45:11,851 INFO             [main] org.flywaydb.core.internal.logging.slf4j.Slf4jLog                                            : Database: jdbc:postgresql://localhost:5432/cute-cut-app (PostgreSQL 14.3)
2022-06-27 09:45:11,913 INFO             [main] org.flywaydb.core.internal.logging.slf4j.Slf4jLog                                            : Successfully validated 18 migrations (execution time 00:00.037s)
2022-06-27 09:45:11,932 INFO             [main] org.flywaydb.core.internal.logging.slf4j.Slf4jLog                                            : Creating Schema History table "public"."flyway_schema_history" with baseline ...
2022-06-27 09:45:11,964 INFO             [main] org.flywaydb.core.internal.logging.slf4j.Slf4jLog                                            : Successfully baselined schema with version: 1
2022-06-27 09:45:11,975 INFO             [main] org.flywaydb.core.internal.logging.slf4j.Slf4jLog                                            : Current version of schema "public": 1
2022-06-27 09:45:11,982 INFO             [main] org.flywaydb.core.internal.logging.slf4j.Slf4jLog                                            : Migrating schema "public" to version "2 - alter table service barber shop id"
2022-06-27 09:45:12,001 INFO             [main] org.flywaydb.core.internal.logging.slf4j.Slf4jLog                                            : Migrating schema "public" to version "3 - alter table favourites barber shop id"
2022-06-27 09:45:12,017 INFO             [main] org.flywaydb.core.internal.logging.slf4j.Slf4jLog                                            : Migrating schema "public" to version "4 - alter table favourites client id"
2022-06-27 09:45:12,034 INFO             [main] org.flywaydb.core.internal.logging.slf4j.Slf4jLog                                            : Migrating schema "public" to version "5 - alter table auth user organization id"
2022-06-27 09:45:12,049 INFO             [main] org.flywaydb.core.internal.logging.slf4j.Slf4jLog                                            : Migrating schema "public" to version "6 - alter table barber shop organization id"
2022-06-27 09:45:12,061 INFO             [main] org.flywaydb.core.internal.logging.slf4j.Slf4jLog                                            : Migrating schema "public" to version "7 - alter table organization logo id"
2022-06-27 09:45:12,074 INFO             [main] org.flywaydb.core.internal.logging.slf4j.Slf4jLog                                            : Migrating schema "public" to version "10 - alter table rating add key"
2022-06-27 09:45:12,091 INFO             [main] org.flywaydb.core.internal.logging.slf4j.Slf4jLog                                            : Migrating schema "public" to version "11 - create barbershop get function"
2022-06-27 09:45:12,106 INFO             [main] org.flywaydb.core.internal.logging.slf4j.Slf4jLog                                            : Migrating schema "public" to version "12 - create rating of barber shop"
2022-06-27 09:45:12,121 INFO             [main] org.flywaydb.core.internal.logging.slf4j.Slf4jLog                                            : Migrating schema "public" to version "13 - alter function barbershop get function"
2022-06-27 09:45:12,130 INFO             [main] org.flywaydb.core.internal.logging.slf4j.Slf4jLog                                            : Migrating schema "public" to version "14 - get favorited barbershops"
2022-06-27 09:45:12,139 INFO             [main] org.flywaydb.core.internal.logging.slf4j.Slf4jLog                                            : Migrating schema "public" to version "15 - get orders by user id"
2022-06-27 09:45:12,149 INFO             [main] org.flywaydb.core.internal.logging.slf4j.Slf4jLog                                            : Migrating schema "public" to version "16 - alter function get orders by user id"
2022-06-27 09:45:12,174 INFO             [main] org.flywaydb.core.internal.logging.slf4j.Slf4jLog                                            : Migrating schema "public" to version "17 - alter function get orders passed"
2022-06-27 09:45:12,197 INFO             [main] org.flywaydb.core.internal.logging.slf4j.Slf4jLog                                            : Migrating schema "public" to version "18 - get orders upcoming"
2022-06-27 09:45:12,214 INFO             [main] org.flywaydb.core.internal.logging.slf4j.Slf4jLog                                            : Migrating schema "public" to version "19 - alter function get upcoming orders"
2022-06-27 09:45:12,228 INFO             [main] org.flywaydb.core.internal.logging.slf4j.Slf4jLog                                            : Migrating schema "public" to version "20 - alter function get passed orders"
2022-06-27 09:45:12,252 INFO             [main] org.flywaydb.core.internal.logging.slf4j.Slf4jLog                                            : Successfully applied 17 migrations to schema "public", now at version v20 (execution time 00:00.275s)
2022-06-27 09:45:12,440 INFO             [main] org.hibernate.jpa.internal.util.LogHelper                                                    : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-06-27 09:45:12,523 INFO             [main] org.hibernate.Version                                                                        : HHH000412: Hibernate ORM core version 5.6.8.Final
2022-06-27 09:45:12,726 INFO             [main] org.hibernate.annotations.common.reflection.java.JavaReflectionManager                       : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-06-27 09:45:12,884 INFO             [main] org.hibernate.dialect.Dialect                                                                : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2022-06-27 09:45:13,524 INFO             [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator                  : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-06-27 09:45:13,538 INFO             [main] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean                                 : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-06-27 09:45:14,564 WARN             [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration      : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-06-27 09:45:15,143 INFO             [main] org.springframework.security.web.DefaultSecurityFilterChain                                  : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6a486afb, org.springframework.security.web.context.SecurityContextPersistenceFilter@3db145f7, org.springframework.security.web.header.HeaderWriterFilter@4fbdee7a, org.springframework.security.web.authentication.logout.LogoutFilter@fefd4a2, uz.pdp.cutecutapp.config.security.filters.CustomAuthorizationFilter@30623109, uz.pdp.cutecutapp.config.security.filters.CustomAuthenticationFilter@138110f8, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7915111a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@179f30b7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4fe8ac61, org.springframework.security.web.session.SessionManagementFilter@2b9a7211, org.springframework.security.web.access.ExceptionTranslationFilter@496e2bdd, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@327ac23]
2022-06-27 09:45:15,260 WARN             [main] org.hibernate.engine.jdbc.spi.SqlExceptionHelper                                             : SQL Error: 0, SQLState: 23505
2022-06-27 09:45:15,261 ERROR            [main] org.hibernate.engine.jdbc.spi.SqlExceptionHelper                                             : ERROR: duplicate key value violates unique constraint "phonerole"
  Detail: Key (phone_number, role)=(+998999999999, SUPER_ADMIN) already exists.
2022-06-27 09:45:17,260 INFO             [main] org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver                          : Exposing 14 endpoint(s) beneath base path '/actuator'
2022-06-27 09:45:17,302 INFO             [main] org.apache.juli.logging.DirectJDKLog                                                         : Starting ProtocolHandler ["http-nio-8080"]
2022-06-27 09:45:17,312 INFO             [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer                                 : Tomcat started on port(s): 8080 (http) with context path ''
2022-06-27 09:45:17,329 INFO             [main] org.springframework.boot.StartupInfoLogger                                                   : Started CuteCutAppApplication in 9.807 seconds (JVM running for 11.026)
2022-06-27 09:45:17,766 INFO             [RMI TCP Connection(11)-127.0.0.1] org.apache.juli.logging.DirectJDKLog                             : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-06-27 09:45:17,767 INFO             [RMI TCP Connection(11)-127.0.0.1] org.springframework.web.servlet.FrameworkServlet                 : Initializing Servlet 'dispatcherServlet'
2022-06-27 09:45:17,770 INFO             [RMI TCP Connection(11)-127.0.0.1] org.springframework.web.servlet.FrameworkServlet                 : Completed initialization in 3 ms
2022-06-27 09:45:30,953 INFO             [http-nio-8080-exec-9] org.springdoc.api.AbstractOpenApiResource                                    : Init duration for springdoc-openapi is: 493 ms
2022-06-27 09:48:10,801 INFO             [SpringApplicationShutdownHook] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean        : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-06-27 09:48:10,803 INFO             [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource                                  : HikariPool-1 - Shutdown initiated...
2022-06-27 09:48:10,818 INFO             [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource                                  : HikariPool-1 - Shutdown completed.
